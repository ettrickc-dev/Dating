<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Control vs Approval vs Protection — 10,000+ Trainer</title>
  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    body { margin: 0; background: #0b0d10; color: #e9eef7; }
    .wrap { max-width: 980px; margin: 0 auto; padding: 20px; }
    .card { background: #121722; border: 1px solid #23304a; border-radius: 14px; padding: 18px; box-shadow: 0 8px 26px rgba(0,0,0,.35); }
    h1 { font-size: 18px; margin: 0 0 12px; font-weight: 700; }
    .statement { font-size: 22px; line-height: 1.35; padding: 14px 14px; background: #0f1420; border: 1px solid #22314d; border-radius: 12px; }
    .row { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
    button {
      appearance: none; border: 1px solid #2a3a5d; background: #111a2c; color: #e9eef7;
      padding: 10px 12px; border-radius: 10px; cursor: pointer; font-weight: 650;
    }
    button:hover { background: #14203a; }
    button:disabled { opacity: .5; cursor: not-allowed; }
    .pill { display: inline-block; padding: 6px 10px; border-radius: 999px; border: 1px solid #2a3a5d; background: #0f1420; font-size: 12px; }
    .meta { display:flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; opacity:.95; }
    .feedback { margin-top: 12px; padding: 12px; border-radius: 12px; border: 1px solid #2a3a5d; background: #0f1420; }
    .good { border-color: #2e6d3d; background: #0f1b13; }
    .bad  { border-color: #7a2f2f; background: #1b0f10; }
    .reason { margin-top: 6px; opacity: .95; }
    .grid { display:grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 12px; }
    @media (max-width: 720px) { .grid { grid-template-columns: 1fr; } }
    input[type="number"] { width: 120px; padding: 8px; border-radius: 10px; border: 1px solid #2a3a5d; background:#0f1420; color:#e9eef7; }
    select { padding: 8px; border-radius: 10px; border: 1px solid #2a3a5d; background:#0f1420; color:#e9eef7; }
    .small { font-size: 12px; opacity: .9; line-height: 1.4; }
    .kpi { display:flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }
    .kpi .box { flex: 1; min-width: 180px; padding: 10px; border-radius: 12px; border: 1px solid #2a3a5d; background:#0f1420; }
    .box b { font-size: 14px; }
    .box div { font-size: 12px; opacity:.9; margin-top: 2px; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono"; font-size: 12px; opacity: .9; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Control vs Approval vs Protection — 10,000+ Statements Trainer</h1>

      <div class="statement" id="stmt">Loading…</div>

      <div class="row">
        <button id="btnC">CONTROL</button>
        <button id="btnA">APPROVAL</button>
        <button id="btnP">PROTECTION</button>
        <button id="btnReveal">Reveal</button>
        <button id="btnNext">Next</button>
      </div>

      <div class="meta">
        <span class="pill" id="modePill">Mode: Mixed</span>
        <span class="pill" id="countPill">Generated: 0</span>
        <span class="pill" id="poolPill">Pool: 10,000+</span>
        <span class="pill" id="streakPill">Streak: 0</span>
      </div>

      <div class="feedback" id="feedback" style="display:none;">
        <div id="fbLine"></div>
        <div class="reason" id="fbReason"></div>
      </div>

      <div class="kpi">
        <div class="box">
          <b>Score</b>
          <div id="scoreLine">0 correct / 0 total</div>
        </div>
        <div class="box">
          <b>Accuracy</b>
          <div id="accLine">0%</div>
        </div>
        <div class="box">
          <b>Last 50</b>
          <div id="last50Line">—</div>
        </div>
      </div>

      <div class="grid">
        <div class="card" style="background:#0f1420;">
          <b>Settings</b>
          <div class="row" style="margin-top:10px;">
            <label class="small">Mode
              <select id="mode">
                <option value="mixed">Mixed</option>
                <option value="control">Control only</option>
                <option value="approval">Approval only</option>
                <option value="protection">Protection only</option>
              </select>
            </label>
            <label class="small">Statements per session
              <input id="sessionN" type="number" min="10" max="100000" value="10000"/>
            </label>
            <button id="btnReset">Reset Session</button>
          </div>
          <div class="small" style="margin-top:8px;">
            This app can generate <b>10,000+ unique</b> statements by combining templates (questions, phrases, contexts).
            You can also keep going beyond 10,000.
          </div>
        </div>

        <div class="card" style="background:#0f1420;">
          <b>How to get fast at this</b>
          <div class="small" style="margin-top:10px;">
            Listen for the *function*:
            <ul>
              <li><b>Control</b>: defines rules, pushes decisions, sets terms, corrects.</li>
              <li><b>Approval</b>: checks reception, seeks reassurance, over-explains, apologizes.</li>
              <li><b>Protection</b>: scans risk, slows down, asks “what if,” wants escape routes.</li>
            </ul>
            Shortcut: <span class="mono">Control defines. Approval explains. Protection hesitates.</span>
          </div>
        </div>
      </div>

      <div class="small" style="margin-top:12px; opacity:.85;">
        Tip: If you want this to feel like “audio training,” read the statement out loud, decide in 2 seconds, then check the answer.
      </div>
    </div>
  </div>

<script>
(() => {
  // --- Utility ---
  const pick = arr => arr[Math.floor(Math.random() * arr.length)];
  const shuffle = arr => arr.map(v => [Math.random(), v]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]);

  // --- Templates by driver ---
  // These templates are deliberately "function-based" so labels stay consistent.
  const CONTROL = {
    label: "CONTROL",
    reason: "This tries to reduce ambiguity by setting terms, rules, or a decision path.",
    openers: [
      "Here’s how this works:",
      "Let’s be clear:",
      "Bottom line:",
      "This is what’s going to happen:",
      "We’re not doing that.",
      "I need a decision.",
      "We’ll do it this way.",
      "The rule is simple:",
      "I’ll handle it. Do this:",
      "Stop. Listen:"
    ],
    verbs: ["decide", "confirm", "commit", "execute", "finalize", "align", "approve", "sign off", "lock in", "clarify"],
    constraints: [
      "by end of day", "right now", "before we continue", "in one sentence", "with no back-and-forth",
      "without debating it", "with a clear yes or no", "without exceptions", "in writing", "today"
    ],
    questions: [
      "Are you in or out?",
      "What’s the decision?",
      "What’s the plan?",
      "Who owns this?",
      "What’s your final answer?",
      "What do you want, exactly?",
      "What are we doing next?",
      "Which option are you choosing?",
      "What’s the deadline?",
      "Do you agree with that?"
    ],
    closers: [
      "Good. Let’s move.",
      "We’re aligned then.",
      "That’s settled.",
      "Stick to the plan.",
      "Don’t complicate it."
    ],
    contexts: [
      "for this project", "for this relationship", "for the meeting", "for the contract", "for the plan",
      "for the next step", "for our schedule", "for the team", "for today", "going forward"
    ]
  };

  const APPROVAL = {
    label: "APPROVAL",
    reason: "This tries to reduce social risk by seeking reassurance, agreement, or acceptance.",
    openers: [
      "I might be overthinking, but…",
      "Does this make sense?",
      "I hope this doesn’t sound weird, but…",
      "I’m not trying to be difficult…",
      "Maybe I’m wrong…",
      "I don’t know if you’ll agree, but…",
      "I just want to make sure we’re okay…",
      "I’m sorry if this is a lot…",
      "Tell me if I’m off here…",
      "I really value your opinion…"
    ],
    feelings: ["anxious", "unsure", "embarrassed", "nervous", "confused", "stressed", "worried", "sensitive", "insecure", "overwhelmed"],
    questions: [
      "Do you think I did the right thing?",
      "Are you upset with me?",
      "Is that okay with you?",
      "Do you still feel good about us?",
      "What do you think of me?",
      "Did I mess that up?",
      "Can you tell me I’m not crazy?",
      "Are we on the same page?",
      "Do you understand what I mean?",
      "Am I being too much?"
    ],
    hedges: ["kind of", "maybe", "I guess", "a little", "sort of", "I think", "probably", "honestly", "to be fair", "like"],
    closers: [
      "I just don’t want you to think badly of me.",
      "I want you to be happy with me.",
      "I want to do this right.",
      "I don’t want to disappoint you.",
      "I’m trying my best here."
    ],
    contexts: [
      "when you said that", "about what happened", "about earlier", "about tomorrow", "about the way I came across",
      "about that message", "about our conversation", "about your reaction", "about your tone", "about how you feel"
    ]
  };

  const PROTECTION = {
    label: "PROTECTION",
    reason: "This tries to avoid harm/loss by scanning risks, slowing commitments, or creating escape routes.",
    openers: [
      "Before we do anything…",
      "I need to think this through.",
      "What’s the catch?",
      "I’m not comfortable yet.",
      "Let’s slow down.",
      "I want to be careful.",
      "I’ve been burned before.",
      "I’m just trying to protect myself.",
      "I don’t want to rush into this.",
      "I need more information first."
    ],
    riskQs: [
      "What happens if it goes wrong?",
      "What are the risks?",
      "What’s the worst-case scenario?",
      "What if this doesn’t work?",
      "What’s the exit plan?",
      "What’s the downside for me?",
      "What guarantees do I have?",
      "How do I know this is real?",
      "Who else has tried this?",
      "Can we do a small test first?"
    ],
    boundaries: [
      "I’m not committing yet.",
      "I’m keeping my options open.",
      "I need time.",
      "I want a trial period.",
      "I’m not sharing that information yet.",
      "Let’s keep it simple for now.",
      "I want this in writing.",
      "I need clarity before I proceed.",
      "I’m not agreeing to that.",
      "I want to see proof first."
    ],
    closers: [
      "Let me sleep on it.",
      "I’ll get back to you.",
      "I’m not ready to decide.",
      "I need to feel safe with this.",
      "I don’t want to regret it."
    ],
    contexts: [
      "given what happened last time", "because I’ve seen scams", "because I don’t trust easily", "because there’s a lot at stake",
      "because I can’t afford a mistake", "because this is serious", "because people switch up", "because I need to be sure",
      "because I don’t want surprises", "because I value stability"
    ]
  };

  const ALL = { control: CONTROL, approval: APPROVAL, protection: PROTECTION };

  // --- Statement generator (combinatorial => 10,000+ unique) ---
  function genControl() {
    const a = pick(CONTROL.openers);
    const q = pick(CONTROL.questions);
    const v = pick(CONTROL.verbs);
    const c = pick(CONTROL.contexts);
    const t = pick(CONTROL.constraints);
    const end = pick(CONTROL.closers);
    const patterns = [
      `${a} ${q}`,
      `${a} I need you to ${v} ${c} ${t}.`,
      `${a} Pick one option and ${v} ${t}.`,
      `${a} We will ${v} ${c} ${t}. ${end}`,
      `${a} Answer this ${t}: ${q}`,
      `${a} I’m not debating it. ${q}`,
      `${a} State your position ${t}.`,
      `${a} We’re losing time. ${q}`
    ];
    return pick(patterns);
  }

  function genApproval() {
    const o = pick(APPROVAL.openers);
    const q = pick(APPROVAL.questions);
    const h = pick(APPROVAL.hedges);
    const f = pick(APPROVAL.feelings);
    const c = pick(APPROVAL.contexts);
    const end = pick(APPROVAL.closers);
    const patterns = [
      `${o} ${q}`,
      `${o} I’ve been feeling ${f} ${c}. ${q}`,
      `${o} I ${h} worry I came off wrong ${c}. ${q}`,
      `${o} Can you reassure me ${c}? ${q}`,
      `${o} I’m trying to be honest. ${q} ${end}`,
      `${o} I just want to make sure you’re okay. ${q}`,
      `${o} If I did something wrong, I want to fix it. ${q}`
    ];
    return pick(patterns);
  }

  function genProtection() {
    const o = pick(PROTECTION.openers);
    const q = pick(PROTECTION.riskQs);
    const b = pick(PROTECTION.boundaries);
    const c = pick(PROTECTION.contexts);
    const end = pick(PROTECTION.closers);
    const patterns = [
      `${o} ${q}`,
      `${o} ${b}`,
      `${o} ${q} ${c}.`,
      `${o} Can we do a small test first? ${q}`,
      `${o} I need clarity: ${q}`,
      `${o} I’m not trying to be difficult—${b}`,
      `${o} ${end} ${q}`
    ];
    return pick(patterns);
  }

  function makeItem(mode) {
    let driver = mode;
    if (mode === "mixed") driver = pick(["control","approval","protection"]);

    let text = "";
    if (driver === "control") text = genControl();
    if (driver === "approval") text = genApproval();
    if (driver === "protection") text = genProtection();

    return { text, driver, label: ALL[driver].label, reason: ALL[driver].reason };
  }

  // --- App state ---
  let mode = "mixed";
  let sessionN = 10000;
  let pool = [];
  let idx = 0;

  let total = 0, correct = 0, streak = 0;
  const last50 = [];

  // --- Elements ---
  const stmtEl = document.getElementById("stmt");
  const fbEl = document.getElementById("feedback");
  const fbLineEl = document.getElementById("fbLine");
  const fbReasonEl = document.getElementById("fbReason");

  const modeSel = document.getElementById("mode");
  const sessionNEl = document.getElementById("sessionN");

  const modePill = document.getElementById("modePill");
  const countPill = document.getElementById("countPill");
  const streakPill = document.getElementById("streakPill");

  const scoreLine = document.getElementById("scoreLine");
  const accLine = document.getElementById("accLine");
  const last50Line = document.getElementById("last50Line");

  const btnC = document.getElementById("btnC");
  const btnA = document.getElementById("btnA");
  const btnP = document.getElementById("btnP");
  const btnReveal = document.getElementById("btnReveal");
  const btnNext = document.getElementById("btnNext");
  const btnReset = document.getElementById("btnReset");

  function updateKPIs() {
    scoreLine.textContent = `${correct} correct / ${total} total`;
    const acc = total ? Math.round((correct/total)*100) : 0;
    accLine.textContent = `${acc}%`;
    const lastAcc = last50.length ? Math.round((last50.filter(x=>x).length/last50.length)*100) : 0;
    last50Line.textContent = last50.length ? `${lastAcc}%` : "—";
    streakPill.textContent = `Streak: ${streak}`;
  }

  function setModeUI() {
    const m = mode === "mixed" ? "Mixed" : ALL[mode].label;
    modePill.textContent = `Mode: ${m}`;
  }

  function generatePool() {
    pool = [];
    for (let i=0; i<sessionN; i++) pool.push(makeItem(mode));
    // optional shuffle for variety
    pool = shuffle(pool);
    idx = 0;
    countPill.textContent = `Generated: ${pool.length}`;
  }

  function showItem() {
    if (idx >= pool.length) {
      stmtEl.textContent = `Session complete: ${pool.length} statements. Click "Reset Session" to generate more.`;
      btnC.disabled = btnA.disabled = btnP.disabled = btnReveal.disabled = true;
      btnNext.disabled = true;
      fbEl.style.display = "none";
      return;
    }
    const item = pool[idx];
    stmtEl.textContent = item.text;
    fbEl.style.display = "none";
    btnC.disabled = btnA.disabled = btnP.disabled = false;
    btnReveal.disabled = false;
    btnNext.disabled = false;
  }

  function reveal(correctLabel) {
    const item = pool[idx];
    fbEl.style.display = "block";
    fbEl.className = "feedback";
    fbLineEl.textContent = `Correct: ${item.label}` + (correctLabel ? ` | You chose: ${correctLabel}` : "");
    fbReasonEl.textContent = `Why: ${item.reason}`;
  }

  function answer(choice) {
    const item = pool[idx];
    const choiceLabel = ALL[choice].label;

    total++;
    const isCorrect = (choice === item.driver);
    if (isCorrect) { correct++; streak++; }
    else { streak = 0; }

    last50.push(isCorrect);
    if (last50.length > 50) last50.shift();

    updateKPIs();

    fbEl.style.display = "block";
    fbEl.className = "feedback " + (isCorrect ? "good" : "bad");
    fbLineEl.textContent = (isCorrect ? "✅ Correct." : "❌ Not quite.") + ` Correct: ${item.label} | You chose: ${choiceLabel}`;
    fbReasonEl.textContent = `Why: ${item.reason}`;

    // lock buttons until next
    btnC.disabled = btnA.disabled = btnP.disabled = true;
    btnReveal.disabled = true;
  }

  // --- Events ---
  btnC.addEventListener("click", () => answer("control"));
  btnA.addEventListener("click", () => answer("approval"));
  btnP.addEventListener("click", () => answer("protection"));

  btnReveal.addEventListener("click", () => {
    reveal(null);
    btnReveal.disabled = true;
  });

  btnNext.addEventListener("click", () => {
    idx++;
    showItem();
  });

  btnReset.addEventListener("click", () => {
    mode = modeSel.value;
    sessionN = parseInt(sessionNEl.value || "10000", 10);
    if (!Number.isFinite(sessionN) || sessionN < 10) sessionN = 10000;
    setModeUI();
    generatePool();
    btnC.disabled = btnA.disabled = btnP.disabled = false;
    btnReveal.disabled = false;
    btnNext.disabled = false;
    showItem();
  });

  modeSel.addEventListener("change", () => {
    // Update label pill immediately
    mode = modeSel.value;
    setModeUI();
  });

  // Init
  setModeUI();
  generatePool();
  updateKPIs();
  showItem();
})();
</script>
</body>
</html>
